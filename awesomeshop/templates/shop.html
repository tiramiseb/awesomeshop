{#-
Copyright 2016 SÃ©bastien Maccagnoni-Munch

This file is part of AwesomeShop.

AwesomeShop is free software: you can redistribute it and/or modify it under
the terms of the GNU Affero General Public License as published by the
Free Software Foundation, either version 3 of the License, or (at your
option) any later version.

AwesomeShop is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more
details.

You should have received a copy of the GNU Affero General Public License
along with AwesomeShop. If not, see <http://www.gnu.org/licenses/>.
#}
<!DOCTYPE html>
<html trigger-auth enable-error-handler>
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8">
<meta name="generator" content="AwesomeShop">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link href="/static/libs/bootstrap.min.css" rel="stylesheet">
<link href="/static/libs/font-awesome.min.css" rel="stylesheet">
<link href="/static/awesomeshop/common.css" rel="stylesheet">
<link href="/static/awesomeshop/shop.css" rel="stylesheet">
<script src="/static/libs/angular.min.js"></script>
<script src="/static/libs/l10n/angular-locale_{{ get_locale() }}.js"></script>
{#
<script src="/static/libs/angular-animate.min.js"></script>
<script src="/static/libs/angular-file-upload.min.js"></script>
<script src="/static/libs/angular-sortable-view.min.js"></script>
#}
<script src="/static/libs/angular-ui-router.min.js"></script>
{#
<script src="/static/libs/angular-validation-match.min.js"></script>
#}
<script src="/static/libs/http-auth-interceptor.js"></script>
<script src="/static/libs/ui-bootstrap-tpls-0.14.3.min.js"></script>
<script src="/static/awesomeshop/common.js"></script>
<script src="/static/awesomeshop/shop.js"></script>
<title>{{ config.SHOP_NAME }}</title>
</head>
<body>
<div id="spinner">
    <i class="fa fa-spinner fa-pulse fa-5x text-primary"></i>
</div>
<nav class="navbar navbar-inverse navbar-static-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand" ui-sref="index">{{ config.SHOP_DESCRIPTION[locale] }}</a>
        </div>
        <p class="navbar-text navbar-right" ng-controller="UserControls" ng-cloak>
            <span ng-if="user().admin">
                <a class="navbar-link" href="/dashboard" target="_blank"><i class="fa fa-tachometer"></i> {{ _('Dashboard') }}</a> |
            </span>
            <span ng-show="user().auth">
                <a class="navbar-link" href=""><i class="fa fa-user"></i> [[ user().email ]]</a> |{# XXX link to account #}
                <a class="navbar-link" href="" ng-click="logout()"><i class="fa fa-sign-out"></i> {{ _('Logout') }}</a>
            </span>
            <span ng-hide="user().auth">
                <a class="navbar-link" href="" ng-click="forcelogin()"><i class="fa fa-sign-in"></i> {{ _('Login') }}</a> |
                <a class="navbar-link" href=""><i class="fa fa-user-plus"></i> {{ _('Register') }}</a> {# XXX link to create account #}
            </span>
            {%- for lang in config.LANGS %}
            {%- if lang != locale %} |
            <a class="navbar-link" href="" ng-click="setlang('{{ lang }}')">{{ lang }}</a>
            {%- endif %}
            {%- endfor %}
        </p>
    </div>
</nav>
<div class="container">
    <div class="row">
        <div class="col-sm-6">
            {% include ['local/logo.html', 'placeholder/logo.html'] ignore missing %}
        </div>
        <div class="col-sm-6 text-right hidden-print">
            <form method="GET" action="" class="form-inline">{# XXX form to search #}
                <div class="form-group bottom-space">
                <div class="input-group">
                    <input type="text" name="q" class="form-control" placeholder="{{ _('Search for...') }}">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="submit">
                            <i class="fa fa-search"></i>
                            {{ _('Search') }}
                        </button>
                    </span>
                </div>
                </div>
            </form>
            <a href="" class="btn btn-primary btn-lg disabled bottom-space"> {# XXX link to cart #}
                <i class="fa fa-shopping-cart"></i>&nbsp;
                <span id="cart-text">{{ _('Cart is empty' ) }}</span>
            </a>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-3 col-sm-4 leftmenu hidden-print">
            <div class="panel panel-default" ng-controller="CategoriesList">
                <div class="panel-heading">
                    <i class="fa fa-list"></i>
                    {{ _('Categories') }}
                </div>
                <div class="list-group" ng-cloak>
                    <a href="" class="list-group-item">{# XXX link to new products #}
                        <span class="category_hierarchy_0">
                            {{ _('New products') }}
                        </span>
                    </a>
                    <a href="" class="list-group-item" ng-repeat="category in categories">{# XXX link to the category #}{# XXX add class "active" to the active category #}
                        <span class="badge" ng-show="category.products">[[ category.products ]]</span>
                        <span class="category_hierarchy_[[ category.level ]]">
                            [[ category.name ]]
                        </span>
                    </a>
                </div>
            </div>
            <div class="panel panel-default" ng-controller="DocumentationList">
                <div class="panel-heading">
                    <i class="fa fa-book"></i>
                    {{ _('Documentation') }}
                </div>
                <div class="list-group" ng-cloak>
                    <a href="" class="list-group-item" ng-repeat="page in pages">{# XXX link to the page #}{# XXX add class "active" to the active page #}
                        [[ page.title ]]
                    </a>
                </div>
            </div>
            <div class="panel panel-default" ng-controller="UserControls">
                <div class="panel-heading">
                    <i class="fa fa-user"></i>
                    {{ _('My account') }}
                </div>
                <div class="list-group" ng-if="user().auth" ng-cloak>
                    <a class="list-group-item" href="">{# XXX link to account #}
                        {{ _('My profile') }}
                    </a>
                    <a class="list-group-item" href="">{# XXX link to orders #}
                        <span class="badge">{# number of orders #}</span>
                        {{ _('My orders') }}
                    </a>
                    <a class="list-group-item" href="">{# XXX link to carts #}
                        <span class="badge">{# number of saved carts #}</span>
                        {{ _('My saved carts') }}
                    </a>
                </div>
                <div class="list-group" ng-if="!user().auth" ng-cloak>
                    <a class="list-group-item" href="" ng-click="forcelogin()">
                        {{ _('Login') }}
                    </a>
                    <a class="list-group-item" href="">{# XXX link to create account #}
                        {{ _('Register') }}
                    </a>
                </div>
            </div>
            <div class="panel panel-default" ng-controller="InfoList">
                <div class="panel-heading">
                    <i class="fa fa-file"></i>
                    {{ _('Information') }}
                </div>
                <div class="list-group" ng-cloak>
                    <a href="" class="list-group-item" ng-repeat="page in pages">{# XXX link to the page #}{# XXX add class "active" to the active page #}
                        [[ page.title ]]
                    </a>
                </div>
            </div>
        </div>
        <div class="col-lg-9 col-sm-8 col-print-12">
            <div class="alert alert-danger hidden-print" role="alert" ng-controller="UserControls" ng-show="user().waiting_for_confirmation" ng-cloak>
                <p>{{ _('Please confirm your email address by clicking on the link in the email you have received.') }}</p>
                <p><i>
                    {{ _('You have not received the validation email?') }}
                    <a href="">{{ _('Send it again') }}</a>{# XXX link to send the validation email again #}
                </i></p>
            </div>
            <div ui-view>
            </div>
        </div>
    </div>
</div>
<div class="navbar navbar-inverse navbar-static-bottom">
  <div class="container">
        <p class="navbar-text navbar-right lead">
            <b>{{ _('Follow us...') }}</b>
            {%- if config.FACEBOOK_ACCOUNT %}
            <a href="https://www.facebook.com/{{ config.FACEBOOK_ACCOUNT }}"><i class="fa fa-facebook-square"></i></a>
            {%- endif %}
            {%- if config.TWITTER_ACCOUNT %}
            <a href="https://www.twitter.com/{{ config.TWITTER_ACCOUNT }}"><i class="fa fa-twitter-square"></i></a>
            {%- endif %}
            {%- if config.BLOG_URL %}
            <a href="{{ config.BLOG_URL }}"><i class="fa fa-rss-square"></i></a>
            {%- endif %}
        </p>
  </div>
</div>
</body>
</html>
