<form name="form" ng-submit="submit()" novalidate="novalidate"><h1>{{ 'PRODUCT_' | translate }} {{ product.slug }}<a href="/[[ product.path ]]" ng-disabled="form.$dirty" class="pull-right btn btn-sm btn-info">{{ 'VIEW' | translate }}</a></h1><div class="row"><div class="col-md-3 col-xs-6"><div ng-class="{ 'has-error': form.slug.$invalid && !form.slug.$pristine }" class="form-group"><label for="slug">{{ 'SLUG' | translate }}</label><input name="slug" ng-model="product.slug" required="required" id="slug" class="form-control"/><p ng-show="form.slug.$invalid" class="text-danger">{{ 'SLUG_MANDATORY' | translate }}</p></div></div><div class="col-md-3 col-xs-6"><div ng-class="{ 'has-error': form.reference.$invalid && !form.reference.$pristine }" class="form-group"><label for="reference">{{ 'REFERENCE' | translate }}</label><input name="reference" ng-model="product.reference" required="required" id="reference" class="form-control"/><p ng-show="form.reference.$invalid" class="text-danger">{{ 'REFERENCE_MANDATORY' | translate }}</p></div></div><div class="col-md-3 col-xs-6"><div ng-class="{ 'has-error': form.category.$invalid && !form.category.$pristine }" class="form-group"><label for="category">{{ 'CATEGORY' | translate }}</label><input name="category" type="text" ng-model="displayablecategories" uib-typeahead="category as category.full_name for category in categories | filter:{ full_name: $viewValue }" typeahead-editable="false" typeahead-min-length="0" typeahead-on-select="product.category=$item.id" required="required" id="category" class="form-control"/><p ng-show="form.category.$invalid" class="text-danger">{{ 'CATEGORY_MANDATORY' | translate }}</p></div></div><div class="col-md-3 col-xs-6"><div ng-class="{ 'has-error': form.documentation.$invalid && !form.documentation.$pristine }" class="form-group"><label for="documentation">{{ 'DOCUMENTATION' | translate }}</label><input name="documentation" type="text" ng-model="displayabledocumentations" uib-typeahead="documentation as documentation.title for documentation in documentations | filter:{ title: $viewValue }" typeahead-editable="false" typeahead-min-length="0" typeahead-on-select="product.documentation=$item.id" required="required" id="documentation" class="form-control"/><p ng-show="form.documentation.$invalid" class="text-danger">{{ 'DOCUMENTATION_MANDATORY' | translate }}</p></div></div></div><div class="row"><div class="col-md-9"><div class="form-group"><label for="keywords">{{ 'KEYWORDS' | translate }}</label><input name="keywords" ng-model="product.keywords" id="keywords" class="form-control"/></div></div><div class="col-md-3"><div class="form-group"><label for="on_sale">{{ 'ON_SALE' | translate }}</label><button type="button" ng-class="{'btn-success': product.on_sale, 'btn-danger': !product.on_sale }" ng-model="product.on_sale" uib-btn-checkbox="uib-button-checkbox" class="btn form-control"><span ng-show="product.on_sale">{{ 'ON_SALE' | translate }}</span><span ng-hide="product.on_sale">{{ 'ON_SALE_NO' | translate }}</span></button></div></div></div><div class="row"><div ng-repeat="lang in langs" class="col-sm-6"><div class="panel panel-default"><div class="panel-heading">{{ lang }}</div><div class="panel-body"><div class="form-group"><label for="name{{ lang }}">{{ 'NAME' | translate }}</label><div class="input-group"><input id="name{{ lang }}" name="name{{ lang }}" ng-model="product.name[lang]" class="form-control"/><span class="input-group-btn"><button type="button" ng-click="slug_from(product.name[lang])" class="btn btn-primary">{{ 'TO_SLUG' | translate }}</button></span></div></div><div class="form-group"><label for="description{{ lang }}">{{ 'DESCRIPTION' | translate }}</label><textarea id="description{{ lang }}" name="description{{ lang }}" ng-model="product.description[lang]" class="form-control"></textarea></div></div></div></div></div><uib-accordion><div uib-accordion-group="uib-accordion-group" heading="{{ 'RELATED_PRODUCTS' | translate }} ({{ product.related_products.length }})" class="panel-default"><div class="row"><div class="col-xs-6"><div class="panel panel-default"><div class="panel-heading">{{ 'SELECTED' | translate }}</div><div class="list-group"><button type="button" ng-repeat="prodid in product.related_products" ng-click="remove_related_product(prodid)" class="list-group-item">{{ product_name_from_id(prodid) }}<span class="pull-right"><i class="fa fa-arrow-right"></i></span></button></div></div></div><div class="col-xs-6"><div class="panel panel-default"><div class="panel-heading">{{ 'AVAILABLE' | translate }}</div><div class="list-group"><input type="text" ng-model="unrelated_query" placeholder="{{ 'FILTER' | translate }}" class="list-group-item"/><button type="button" ng-repeat="prod in unrelated_products() | filter:unrelated_query" ng-click="add_related_product(prod.id)" class="list-group-item"><i class="fa fa-arrow-left"></i>&nbsp;&nbsp;{{ prod.name || prod.slug }}</button></div></div></div></div></div></uib-accordion><div class="row"><div class="col-md-6"><div class="panel panel-default"><div class="panel-heading">{{ 'PRICING' | translate }}</div><div class="panel-body"><div class="row"><div class="col-xs-6"><div class="form-group"><label for="purchase_price">{{ 'PURCHASE_PRICE' | translate }}</label><div class="input-group"><input type="number" step="0.01" name="purchase_price" ng-model="product.purchasing_price" id="purchase_price" class="form-control"/><span class="input-group-addon">{{ CONFIG.currency }}</span></div></div></div><div class="col-xs-6"><div ng-class="{ 'has-error': form.gross_price.$invalid && !form.gross_price.$pristine }" class="form-group"><label for="gross_price">{{ 'GROSS_PRICE' | translate }}</label><div class="input-group"><input type="number" step="0.01" name="gross_price" ng-model="product.gross_price" required="required" id="gross_price" class="form-control"/><span class="input-group-addon">{{ CONFIG.currency }}</span></div><p ng-show="form.gross_price.$invalid" class="text-danger">{{ 'GROSS_PRICE_MANDATORY' | translate }}</p></div></div><div class="col-xs-6"><div ng-class="{ 'has-error': form.tax.$invalid && !form.tax.$pristine }" class="form-group"><label for="tax">{{ 'TAX' | translate }}</label><select name="tax" ng-model="product.tax" ng-options="tax.id as tax.name for tax in taxrates" required="required" id="tax" class="form-control"></select><p ng-show="form.tax.$invalid" class="text-danger">{{ 'TAX_MANDATORY' | translate }}</p></div></div><div class="col-xs-6"><div class="form-group"><label for="net_price">{{ 'NET_PRICE' | translate }}</label><div class="input-group"><input type="text" name="net_price" ng-value="net_price()" disabled="disabled" id="net_price" class="form-control"/><span class="input-group-addon">{{ CONFIG.currency }}</span></div></div></div></div></div></div></div><div class="col-md-6"><div class="panel panel-default"><div class="panel-heading">{{ 'STOCK_SHIPPING' | translate }}</div><div class="panel-body"><div class="row"><div class="col-xs-6"><div class="form-group"><label for="stock">{{ 'STOCK' | translate }}</label><input type="number" name="stock" ng-model="product.stock" id="stock" class="form-control"/></div></div><div class="col-xs-6"><div class="form-group"><label for="stock_alert">{{ 'STOCK_ALERT' | translate }}</label><input type="number" name="stock_alert" ng-model="product.stock_alert" id="stock_alert" class="form-control"/></div></div><div class="col-xs-6"><div class="form-group"><label for="on_demand">{{ 'ON_DEMAND' | translate }}</label><button type="button" ng-class="{'btn-success': product.on_demand, 'btn-danger': !product.on_demand }" ng-model="product.on_demand" uib-btn-checkbox="uib-button-checkbox" class="btn form-control"><span ng-show="product.on_demand">{{ 'ON_DEMAND' | translate }}</span><span ng-hide="product.on_demand">{{ 'ON_DEMAND_NO' | translate }}</span></button></div></div><div class="col-xs-6"><div class="form-group"><label for="weight">{{ 'WEIGHT' | translate }}</label><input name="weight" type="number" ng-model="product.weight" id="weight" class="form-control"/></div></div></div></div></div></div></div><div id="pictures" class="panel panel-default"><div class="panel-heading">{{ 'PICTURES' | translate }}</div><div class="panel-body"><div sv-root="sv-root" sv-part="photos" sv-on-sort="sort_photo($indexFrom, $indexTo)" id="photos" class="row"><div ng-repeat="photo in photos" sv-element="photos_sortoptions" class="col-xs-6 col-sm-4 col-md-3 col-lg-2"><div sv-handle="sv_handle" class="thumbnail"><img ng-src="{{ photo.thumbnail_url }}" onmousedown="return false;"/><div class="caption text-center"><button type="button" ng-click="delete_photo(photo.filename, $index)" class="btn btn-danger"><i class="fa fa-trash"></i> {{ 'REMOVE' | translate }}</button></div></div></div></div><div ng-if="product.id"><hr/><input type="file" nv-file-select="nv-file-select" uploader="uploader"/></div><p ng-hide="product.id">{{ 'SAVE_BEFORE_IMAGES' | translate }}</p></div></div><div id="internal-note" class="panel panel-default"><div class="panel-heading">{{ 'INTERNAL_NOTE' | translate }}</div><div class="panel-body"><div ng-class="{ 'has-error': form.internal_note.$invalid && !form.internal_note.$pristine }" class="form-group"><textarea name="internal_note" ng-model="product.internal_note" id="internal_note" class="form-control"></textarea></div></div></div><div id="page-buttons"><button type="submit" uib-tooltip="{{ 'SAVE' | translate }}" ng-disabled="form.$invalid" class="btn btn-link"><i class="fa fa-check-circle fa-4x text-success"></i></button><button type="button" ng-click="delete()" uib-tooltip="{{ 'REMOVE' | translate }}" class="btn btn-link"><i class="fa fa-times-circle fa-4x text-danger"></i></button><a ui-sref="products" uib-tooltip="{{ 'BACK' | translate }}" class="btn btn-link"><i ng-class="{'text-primary': form.$pristine, 'text-danger': form.$dirty }" class="fa fa-arrow-circle-left fa-4x"></i></a></div></form>