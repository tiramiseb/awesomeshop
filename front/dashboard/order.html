<h1>{{ 'ORDER_' | translate }} {{ order.full_number }}</h1><div class="row"><div class="col-md-6"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-5 text-right">{{ 'CUSTOMER' | translate }}</div><div class="col-xs-7">{{ order.customer.email }}</div></div><div class="row"><div class="col-xs-5 text-right">{{ 'ORDER_DATE' | translate }}</div><div class="col-xs-7">{{ order.date | date }}</div></div><div ng-show="order.invoice_number" class="row"><div class="col-xs-5 text-right">{{ 'INVOICE_DATE' | translate }}</div><div class="col-xs-7"><a ng-href="/pdf/invoice/{{ order.invoice_number }}" target="_blank">{{ order.invoice_date | date }}</a></div></div><div class="row"><div class="col-xs-5 text-right">{{ 'STATUS' | translate }}</div><div class="col-xs-7 text-{{ order.status_color }}">{{ order.human_status }}</div></div><div class="row"><div class="col-xs-5 text-right">{{ 'PAYMENT_MODE' | translate }}</div><div class="col-xs-7"><i ng-if="order.payment_icon" class="fa fa-{{ order.payment_icon }}"></i> {{ order.payment_description }}</div></div><div ng-show="order.payment_date" class="row"><div class="col-xs-5 text-right">{{ 'PAYMENT_DATE' | translate }}</div><div class="col-xs-7">{{ order.payment_date | date }}</div></div><div class="row"><div class="col-xs-5 text-right">{{ 'CARRIER' | translate }} <i class="fa fa-truck"></i></div><div class="col-xs-7">{{ order.carrier_description }}</div></div><div class="row"><div class="col-xs-5 text-right">{{ 'REUSED_PACKAGE' | translate }} <i class="fa fa-recycle"></i></div><div class="col-xs-7"><span ng-show="order.accept_reused_package" class="text-success">{{ 'YES' | translate }}</span><span ng-hide="order.accept_reused_package" class="text-danger">{{ 'NO' | translate }}</span></div></div><div class="row"><div class="col-xs-5 text-right">{{ 'PAPER_INVOICE' | translate }} <i class="fa fa-file-text-o"></i></div><div class="col-xs-7"><span ng-show="order.paper_invoice" class="text-success">{{ 'YES' | translate }}</span><span ng-hide="order.paper_invoice" class="text-danger">{{ 'NO' | translate }}</span></div></div><div ng-show="order.tracking_number" class="row"><div class="col-xs-5 text-right">{{ 'TRACKING_NUMBER' | translate }}</div><div class="col-xs-7"><a ng-href="[[ order.tracking_url ]]" target="_blank">{{ order.tracking_number }}</a></div></div><div ng-show="order.status == 'unconfirmed'" class="text-right">{{ 'CANCELLED_NOT_CONFIRMED_X' | translate:{QTY: CONFIG.confirm_delay } }}</div><div ng-show="order.status == 'awaiting_payment'" class="text-right">{{ 'CANCELLED_NOT_PAID_X' | translate:{QTY: CONFIG.payment_delay } }}</div></div></div><form ng-show="(order.status=='preparation' || order.status=='shipped') && order.tracking" ng-submit="set_tracking_number()"><div class="form-group"><div class="input-group"><input type="text" ng-model="tracking_number" placeholder="{{ 'TRACKING_NUMBER' | translate }}" class="form-control"/><span class="input-group-btn"><button type="submit" ng-if="order.status=='preparation'" class="btn btn-primary">{{ 'PARCEL_SHIPPED' | translate }}</button><button type="submit" ng-if="order.status!='preparation'" class="btn btn-primary"><i class="fa fa-dot-circle-o"></i> {{ 'CHANGE_TRACKING_NUMBER' | translate }}</button></span></div></div></form><div class="form-group btn-group"><button type="button" ng-if="order.next_states.indexOf('awaiting_payment')!=-1" ng-click="change_status('awaiting_payment')" class="btn btn-primary">{{ 'CONFIRM_WAIT_PAYMENT' | translate }}</button><button type="button" ng-if="order.next_states.indexOf('payment_received')!=-1" ng-click="change_status('payment_received')" class="btn btn-success">{{ 'PAYMENT_RECEIVED' | translate }}</button><button type="button" ng-if="order.next_states.indexOf('payment_failed')!=-1" ng-click="change_status('payment_failed')" class="btn btn-danger">{{ 'PAYMENT_FAILED' | translate }}</button><button type="button" ng-if="order.next_states.indexOf('preparation')!=-1" ng-click="change_status('preparation')" class="btn btn-info">{{ 'BEGIN_PREPARATION' | translate }}</button><button type="button" ng-if="order.next_states.indexOf('shipped')!=-1 && !order.tracking" ng-click="change_status('shipped')" class="btn btn-primary">{{ 'PARCEL_SHIPPED' | translate }}</button><button type="button" ng-if="order.next_states.indexOf('awaiting_return')!=-1" ng-click="change_status('awaiting_return')" class="btn btn-warning">{{ 'ACCEPT_RETURN' | translate }}</button><button type="button" ng-if="order.next_states.indexOf('refund')!=-1" ng-click="change_status('refund')" class="btn btn-danger">{{ 'EMIT_REFUND' | translate }}</button><button type="button" ng-if="order.next_states.indexOf('cancelled')!=-1" ng-click="change_status('cancelled')" class="btn btn-danger">{{ 'CANCEL' | translate }}</button></div><div class="panel panel-default"><div class="panel-heading"><div class="row"><div class="col-xs-10"><i class="fa fa-cube"></i> {{ 'PRODUCT' | translate }}</div><div class="col-xs-2 text-right">{{ 'QTY' | translate }}</div></div></div><div class="list-group"><div ng-repeat="line in order.products" ng-class="{pointer: line.product.internal_note}" ng-click="open_note(line.product)" class="list-group-item"><div class="row"><div class="col-xs-3"><i ng-if="line.product.internal_note" class="fa fa-file-text-o text-danger"></i> {{ line.reference }}</div><div class="col-xs-7">{{ line.name }}</div><div class="col-xs-2 text-right">{{ line.quantity }}</div><div ng-show="line.product.type == 'kit'" class="col-xs-12"><ul><li ng-repeat="detail in line.product.details">{{ detail.quantity }}&times; {{ detail.name }}</li></ul></div></div></div></div></div></div><div class="col-md-6"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-map-marker"></i> {{ 'DELIVERY_ADDRESS' | translate }}</div><div class="panel-body"><b ng-bind-html="order.delivery | htmlbr"></b></div></div><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-file-text-o"></i> {{ 'BILLING_ADDRESS' | translate }}</div><div ng-bind-html="order.billing | htmlbr" class="panel-body text-muted"></div></div><div class="panel panel-default"><div class="list-group"><div class="list-group-item"><div class="row"><div class="col-xs-8"><b>{{ 'SUBTOTAL' | translate }}</b></div><div class="col-xs-4 text-right"><b>{{ order.net_subtotal }}</b></div></div></div><div class="list-group-item"><div class="row"><div class="col-xs-8">{{ 'SHIPPING_FEE' | translate }}</div><div class="col-xs-4 text-right">{{ order.net_shipping }}</div></div></div><div class="list-group-item"><div class="row text-info total-cost"><div class="col-xs-8"><b>{{ 'TOTAL' | translate }}</b></div><div class="col-xs-4 text-right"><b>{{ order.net_total }}</b></div></div></div></div></div></div></div>