<div ng-repeat-start="product in products" ng-controller="ProductInListCtrl" ng-cloak="ng-cloak" class="col-xs-6 col-md-4 col-lg-3"><div class="thumbnail product-in-grid"><a href="{{ product.path }}"><img ng-src="{{ product.main_photo.preview_url }}" ng-show="product.main_photo"/><div class="caption"><p class="text-center">{{ product.name || product.slug }}</p><p class="text-center bottom-no-space"><span ng-if="!product.static">{{ 'FROM_PRICE' | translate }} </span>{{ product.lower_price | currency:CONFIG.currency }}</p></div></a><div ng-if="product.static" class="caption"><button type="button" ng-if="cart.quantity(product) < product.stock || product.overstock_delay >=0" ng-class="{ 'btn-success': cart.quantity(product) < product.stock, 'btn-info': product.overstock_delay >= 0 && cart.quantity(product) >= product.stock }" ng-click="cart.add(product.id, null, 1)" class="btn btn-success btn-block">{{ 'ADD_TO_CART' | translate }}</button><button type="button" ng-if="product.overstock_delay < 0 && cart.quantity(product) >= product.stock" class="btn btn-danger btn-block disabled">{{ 'OUT_OF_STOCK' | translate }}</button><p ng-if="product.overstock_delay >= 0 && cart.quantity(product) >= product.stock" class="text-center bottom-no-space">{{ 'SHIPPING_DELAY_X' | translate:{QTY:product.overstock_delay} }}</p></div><div ng-if="!product.static" class="caption"><a href="{{ product.path }}" class="btn btn-info btn-block">{{ 'CUSTOMIZE' | translate }}</a></div></div></div><div ng-if="($index+1)%4==0" class="clearfix visible-lg-block"></div><div ng-if="($index+1)%3==0" class="clearfix visible-md-block"></div><div ng-if="($index+1)%2==0" ng-repeat-end="ng-repeat-end" class="clearfix visible-xs-block visible-sm-block"></div>