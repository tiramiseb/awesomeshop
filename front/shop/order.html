<h1>{{ 'ORDER_NUM_AND_DATE' | translate:{NUM: order.full_number, DATE:(order.date|date)} }}</h1><div class="panel panel-default"><div class="panel-body">{{ 'ORDER_STATUS_' | translate }} <span class="text-{{ order.status_color }}">{{ order.human_status }}</span><div ng-if="order.status == 'unconfirmed'"><b>{{ 'CANCELLED_NOT_CONFIRMED_X' | translate:{QTY: CONFIG.confirm_delay} }}</b></div><div ng-if="order.status == 'awaiting_payment'"><b>{{ 'CANCELLED_NOT_PAID_X' | translate:{QTY: CONFIG.payment_delay} }}</b></div><div ng-if="order.payment_date">{{ 'PAYMENT_RECEIVED_ON_X' | translate:{DATE:(order.payment_date|date)} }}</div><div ng-if="order.payment_message">{{ 'MESSAGE_ABOUT_PAYMENT_' | translate }} {{ order.payment_message }}</div><div ng-if="order.shipping_date">{{ ''SHIPPED_ON_X' | translate:{DATE:(order.shipping_date|date} }}</div><div ng-if="order.tracking_number"><b>{{ 'TRACKING_NUMBER_' | translate }} <a ng-href="{{ order.tracking_url }}" target="_blank">{{ order.tracking_number }}</a></b></div><div ng-if="['unconfirmed', 'awaiting_payment', 'payment_failed'].indexOf(order.status) != -1" class="row relative"><div class="col-md-6 col-md-push-6 text-right top-space"><button type="button" ng-click="pay()" class="btn btn-lg btn-success"><span ng-if="order.status == 'unconfirmed'">{{ 'CONFIRM_PAY' | translate }}</span><span ng-if="order.status == 'awaiting_payment' || order.status == 'payment_failed'">{{ 'RETRY_PAY' | translate }}</span> <i class="fa fa-chevron-right"></i></button></div><div class="col-md-6 col-md-pull-6 top-space align-bottom"><div class="btn-group"><button type="button" ng-click="cancel()" class="btn btn-danger">{{ 'CANCEL_FORGET' | translate }}</button><button type="button" ng-click="to_cart()" class="btn btn-warning">{{ 'BACK_TO_CART' | translate }}</button></div></div></div></div></div><div class="row"><div class="col-sm-6"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-map-marker"></i> {{ 'DELIVERY_ADDRESS' | translate }}</div><div ng-bind-html="order.delivery | htmlbr" class="panel-body"></div></div></div><div class="col-sm-6"><div class="panel panel-default"><div class="panel-heading"><i class="fa fa-file-text-o"></i> {{ 'BILLING_ADDRESS' | translate }}</div><div ng-bind-html="order.billing | htmlbr" class="panel-body"></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><div class="row"><div class="col-md-7"><i class="fa fa-cube"></i> {{ 'PRODUCT' | translate }}</div><div class="col-xs-3 col-xs-offset-3 col-md-1 col-md-offset-0 text-right">{{ 'QTY' | translate }}</div><div class="col-xs-3 col-md-2 text-right">{{ 'UNIT' | translate }}</div><div class="col-xs-3 col-md-2 text-right">{{ 'TOTAL' | translate }}</div></div></div><div class="list-group"><div ng-repeat="line in order.products" uib-popover-template="'/common/product_'+line.product.type+'_popup.html'" popover-trigger="'mouseenter'" popover-enable="line.product.details" class="list-group-item"><div class="row"><div class="col-xs-4 col-md-3 col-lg-3">{{ line.reference }}</div><div class="col-xs-8 col-md-4 col-lg-4">{{ line.name }}</div><div class="col-xs-3 col-xs-offset-3 col-md-1 col-md-offset-0 text-right">{{ line.quantity }}</div><div class="col-xs-3 col-md-2 text-right">{{ line.net_price }}</div><div class="col-xs-3 col-md-2 text-right">{{ line.line_net_price }}</div></div></div><div class="list-group-item"><div class="row"><div class="col-xs-8"><b>{{ 'SUBTOTAL' | translate }}</b></div><div class="col-xs-4 text-right"><b>{{ order.net_subtotal }}</b></div></div></div><div class="list-group-item"><div class="row"><div class="col-xs-4 col-sm-4">{{ 'SHIPPING_FEE' | translate }}</div><div class="col-xs-5 col-sm-6 text-right">{{ order.carrier_description }}</div><div class="col-xs-3 col-sm-2 text-right">{{ order.net_shipping }}</div></div></div><div class="list-group-item"><div class="row text-info total-cost"><div class="col-xs-7"><b>{{ 'TOTAL' | translate }}</b></div><div class="col-xs-5 text-right"><b>{{ order.net_total }}</b></div></div></div></div></div><div class="panel panel-default"><div class="panel-body"><ul><li>{{ 'SHIPPING_DELAY_X' | translate:{QTY: order.delay} }}</li><li>{{ 'PAYMENT_' | translate }} <i ng-if="order.payment_icon" class="fa fa-{{ order.payment_icon }}"></i> {{ order.payment_description }}</li><li ng-if="order.accept_reused_package"><i class="fa fa-recycle"></i> {{ 'ACCEPT_REUSED_PACKAGE' | translate }}</li><li ng-if="order.paper_invoice"><i class="fa fa-file-text-o"></i> {{ 'PAPER_INVOICE' | translate }}</li></ul></div></div><small>{{ 'LEGAL_NOTICE' | translate }}</small><button type="button" ng-show="order.status == 'unconfirmed'" ng-click="pay()" class="btn btn-lg btn-success pull-right">{{ 'CONFIRM_PAY' | translate }} <i class="fa fa-chevron-right"></i></button><a ng-href="/pdf/invoice/{{ order.invoice_number }}" ng-if="order.invoice_number" target="_blank" class="btn btn-lg btn-primary pull-right"><i class="fa fa-file-text-o"></i> {{ 'INVOICE_NUM_AND_DATE' | translate:{NUM: order.invoice_full_number, DATE: (order.invoice_date | date)} }}</a>